<html>
<head>
    <meta charset="UTF-8">
    <title>Skywell Test Letsee</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
	<script src="https://unpkg.com/three@0.123.0/build/three.min.js"></script>
	<script src="https://developer.letsee.io/api/webar?key=171a5e81605e4ab029c0e52919634998c80ff7998a61c05c8244cfdbd50d578c"></script>	
</head>
<body>
<script>
letsee.ready(() => {
    letsee.start();
    letsee.addTHREE(THREE).then(obj => {
        console.log(obj)
        renderer = obj.renderer;
        scene = obj.scene;
        update = obj.update;
        letsee.addTarget('https://developer.letsee.io/api-tm/target-manager/target-uid/61288210f8e80a05ba9010e0').then(entity => {
            toystory = entity;
            const geometry = new THREE.BoxGeometry();
            const material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
            const cube = new THREE.Mesh( geometry, material );
            cube.scale.set(50, 50, 50);
            toystory.add(cube);
            scene.add(toystory);

            const animate = async function() {
                requestAnimationFrame(animate);
                await update();
                const camera = letsee.threeRenderer().getDeviceCamera();
                renderer.render(scene, camera);
            };
            animate();
        });
    });
});
</script>
</body>
</html>
