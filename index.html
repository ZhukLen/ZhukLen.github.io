<html>
<head>
    <meta charset="UTF-8">
    <title>Skywell Test Letsee</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
	<script src="https://unpkg.com/three@0.123.0/build/three.min.js"></script>
	<script src="https://developer.letsee.io/api/webar?key=171a5e81605e4ab029c0e52919634998c80ff7998a61c05c8244cfdbd50d578c"></script>	
</head>
<body>
<script>
    let scene;
    let renderer;
    let entity;
    
    letsee.ready(() => {
      letsee.start();
      letsee.addTHREE(THREE).then(obj => {
        renderer = obj.renderer;
        scene = obj.scene;
        letsee.addTarget('https://developer.letsee.io/api-tm/target-manager/target-uid/6128c7b7f8e80a05ba9010e1')
				.then(_entity => {
          entity = _entity;

          const geometry = new THREE.BoxGeometry();
          const material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
          const cube = new THREE.Mesh( geometry, material );
          cube.scale.set(30, 30, 30);
          cube.position.z = 30;
          entity.add(cube);
				  
          scene.add(entity);

          const animate = async function() {
            requestAnimationFrame(animate);
            
            const camera = letsee.threeRenderer().getDeviceCamera();
            renderer.render(scene, camera);

            await letsee.threeRenderer().update();
          };
          animate();
        });
      });

    });
    letsee.init({trackerType: 'image'});
</script>
</body>
</html>
